<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if (IE 9)]><html class="no-js ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html  lang="en-US">
	<head>
    	<title>Electronics Prototype: Wearable Step Counter</title>
        
        <!-- Meta Tags -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="Personal webspace of Aniket Handa" />
        <!-- Mobile Internet Explorer ClearType Technology -->
        <!--[if IEMobile]>  <meta http-equiv="cleartype" content="on">  <![endif]-->
        
        <!-- Mobile Specifics -->
        <meta name="viewport" content="width=device-width">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="MobileOptimized" content="320"/>
        
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	    <!--[if lt IE 9]>
	      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	    <![endif]-->

        <!-- Bootstrap -->
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
        
        <!-- Custom CSS -->
        <link rel="stylesheet" href="/theme/css/main.css">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/theme/css/syntax.css">
        
        <!-- FancyBox -->
		<link href="/theme/css/fancybox/jquery.fancybox.css" rel="stylesheet">
		
		<!-- Font Icons -->
		<link href="/theme/css/fonts.css" rel="stylesheet">
		
		<!-- Google Font -->
		
		<link href='http://fonts.googleapis.com/css?family=Titillium+Web:600,600italic,200,200italic,300,300italic,400,400italic' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Roboto:400,100italic,100,300,300italic,400italic' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Roboto+Condensed:300italic,400italic,400,300' rel='stylesheet' type='text/css'>
		
		<!-- Fav Icon -->
		<link rel="icon" type="image/ico" href="favicon.ico">
		
		<link rel="apple-touch-icon" href="#">
		<link rel="apple-touch-icon" sizes="114x114" href="#">
		<link rel="apple-touch-icon" sizes="72x72" href="#">
		<link rel="apple-touch-icon" sizes="144x144" href="#">
		
		
		<!-- Analytics -->
		<script type="text/javascript">
		
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-30930227-1']);
		  _gaq.push(['_trackPageview']);
		
		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();
		
		</script>
		<!-- End Analytics -->

    </head>
    
    <body onload="">
		
		<!-- This section is for Splash Screen 
		<section id="jSplash">
			<div id="circle"></div>
		</section>
End of Splash Screen -->

<!-- Header -->
<header id="post">
    <div class="sticky-nav">
    	        
        <div id="logo">
        	<a href="/" title="Aniket Handa">Aniket Handa</a>
        </div>
        
        
        <div id="right">
        <ul id="rightList">
        	<li><a href="/posts.html"> <i class="fa fa-list-ul"></i></i></i></a></li>
        	
        		<li id = "rightNext"><a href="/studio/playground/2014/03/08/UW-Q2-Studio-A8.html"><i class="fa fa-chevron-left"></i></a></li>      
        	
        	
        		<li id = "rightPrev"><a href="/studio/playground/2014/02/22/UW-Q2-Studio-A6.html"><i class="fa fa-chevron-right"></i></a></li>
        	
        </ul>
        </div>       
    </div>
</header>
<!-- End Header -->

<div class="container">
	<div class="row">
		<div class="page">
			<h1>Electronics Prototype: Wearable Step Counter</h1>
			<p class="meta" style="text-align: center">
				01 Mar 2014
			</p>
			<div class="post">
				<h2>Summary</h2>

<p>“Wearables are the future!”, as deemed by majority of futurist. They have the potential to become part of our lives without being intrusive. This week for HCID521, I prototyped a step counter. It basically used two pressure sensors to detect very single step in real-time.</p>

<p><img src="https://dl.dropboxusercontent.com/u/23289062/siteImages/Studio/Q2/W6/3.JPG" alt="image"></p>

<h2>Problem</h2>

<p>Most of the step counters or fitness wearables available in the market rely on accelerometers. This limits their accuracy, as it can be sometimes challenging to classify certain movements as a step or not. They also have a disadvantage of not being lambently present in the environment/things, one has to remember to wear them and charge them.</p>

<p>To address these concerns I prototyped a step counter, which will be embedded in the shoes (much like a Nike + iPod sensor). The vision is to make it independent of any other additional supporting device.</p>

<h2>Design</h2>

<h3>Design Considerations &amp; Constrains</h3>

<ul>
<li>Accuracy: It should accurately be able to detect steps, irrespective of the speed of the user. It correctly detect step count it looks for <strong>falling signal edges</strong> continuously in the two analog pressure sensor data stream. Upon detection it increments the number of steps.</li>
<li>Real-time: As an Arduino does not support multi tasking, I used <strong>Interrupts</strong> for event handling. Arduino Uno supports two Interrupts at digital port number 2 and 3. Using Interrupts not only enabled better accuracy but also a better experience in terms of reliability and response time.</li>
<li>Show Status: It uses an LCD to show current number of steps taken. It also blinks an LED upon some action being performed, such as on being <strong>Synced</strong> or <strong>Calibrated</strong>.</li>
<li>Easy to sync: The interplay between the system and an external device used to sync should be as seamless as possible. It syncs just with a press of a button.</li>
<li>Gives an experience of using an end product: To promote this as much as possible I bundled the system in a box which could be hand held by someone else when the user evaluation is done.</li>
<li>Visualization: Though not being perfect in any sense, the step data on the PC used bar graphs to give an idea how the data can be interrupted and be useful to the user.</li>
</ul>

<h3>Basic Functionality</h3>

<ul>
<li>Display Steps</li>
<li>Accurate step detection</li>
<li>Syncs and uploads data</li>
<li>Calibrates depending upon weight of the user</li>
<li>Shows current status using LEDs and a LCD</li>
<li>Shows a visualization on PC</li>
</ul>

<h2>Prototype</h2>

<p>I approached the problem in a phase wise manner. First and the foremost was to get accurate step count. For this I connected the analog inputs from the sensors to A0 and A1 of the board.</p>

<p><img src="https://dl.dropboxusercontent.com/u/23289062/siteImages/Studio/Q2/W6/7.JPG" alt="image"></p>

<p><img src="https://dl.dropboxusercontent.com/u/23289062/siteImages/Studio/Q2/W6/5.JPG" alt="image"></p>

<p>I then analyzed the pressure data for various use cases and then coded a few conditions to check for the falling signal edge, in simpler terms, to check for the specific instant when the user lifts the feet or reduces pressure to a specific threshold.</p>

<p>Then I soldered the LCD and attached it to various digital pins.</p>

<p><img src="https://dl.dropboxusercontent.com/u/23289062/siteImages/Studio/Q2/W6/8.JPG" alt="image"></p>

<p>After this, I programmed two interrupts for Sync and Calibration. These were called when push buttons where pressed.</p>

<p><img src="https://dl.dropboxusercontent.com/u/23289062/siteImages/Studio/Q2/W6/6.JPG" alt="image"></p>

<p>Upon Sync, it transferred the current step count to the connect PC. The data is read using the serial port and then visualized using a Processing sketch. (This was not a required deliverable, but was jus to give an overall experience. So, not perfect in any sense).</p>

<p><img src="https://dl.dropboxusercontent.com/u/23289062/siteImages/Studio/Q2/W6/10.png" alt="image"></p>

<p>Finally, I enclosed it in a casing and powered it using a 9V battery to make it portable; ready to be used for evaluation. The wire to the sensors was specially kept long so that user can comfortably put sensors in the shoes while other person holding rest of the system.</p>

<p><img src="https://dl.dropboxusercontent.com/u/23289062/siteImages/Studio/Q2/W6/2.JPG" alt="image"></p>

<h2>Analysis</h2>

<h3>Conclusion &amp; Improvements</h3>

<p>Electronic prototyping not also proves the technical feasibility of a design, but also gives more real-like experience due to its actual lag and interfacing issues. On the flip side, they can appear dirty and may change opinion of the target audience. Overall the prototype was successful in reaching its goals, given limited time. Though a number of things could be improved. </p>

<p>The size of the unit could be reduced, especially by using DIY kits targeted towards wearables, such as a LilyPad. The use of smaller dimension of components and conductive threads can provide better end experience. The calibration feature can be eliminated by automating it using some smart algorithms to compute threshold. This would make the system less complex. Also, the use of LCD to display current steps taken can be argued. Steps could be either be streamed in real-time or visualized later.  </p>

			</div>
			<div id="disqus_thread"></div>
		    <script type="text/javascript">
		        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		        var disqus_shortname = 'atneik'; // required: replace example with your forum shortname
		
		        /* * * DON'T EDIT BELOW THIS LINE * * */
		        (function() {
		            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		        })();
		    </script>
		    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		</div>
	</div>
	<div class="row">
		
		<a href="/studio/playground/2014/03/08/UW-Q2-Studio-A8.html">
		<div class="col-md-6 page">
			<h2>Physical Prototype: Experiments & A Bottle Opener</h2>
			<strong>08 Mar 2014</strong>
			//
			
				During the last week I played a ton with Rhinoceros, OpenSCAD and the MakerBot.. 
			
		</div>
		</a>
		
		
		<a href="/studio/playground/2014/02/22/UW-Q2-Studio-A6.html">
		<div class="col-md-6 page">
			<h2>Mobile Prototype: Tweak the Tweets</h2>
			<strong >22 Feb 2014</strong>
			//
			
				Given the design specification, I design and develop a high fidelity prototype of the App..
			
		</div>
		</a>
		
	</div>
</div>

        
        <!-- Footer -->
		<footer>
			<div class="container">
				
				<div class="row-fluid credits">
					<div class="span12">
						&copy;2014 <a href="/" title="Atneik">Atneik. </a>
					</div>
				</div>
				
			</div>
		</footer>
		<!-- End Footer -->
		
		<!-- Js -->
		<!-- Modernizr -->
		<script src="/theme/js/modernizr.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script> <!-- Bootstrap -->
		<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
		
		<script src="/theme/js/waypoints.js"></script> <!-- WayPoints -->
		<script src="/theme/js/waypoints-sticky.js"></script> <!-- Waypoints for Header -->
		<script src="/theme/js/jquery.isotope.js"></script> <!-- Isotope Filter -->
		<script src="/theme/js/plugins.js"></script> <!-- Contains: jPreloader, jQuery Easing, jQuery ScrollTo, jQuery One Page Navi -->
		
		<script src="/theme/js/main.js"></script> <!-- Default JS -->
		<!-- End Js -->

    </body>
</html>
